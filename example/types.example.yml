client:
  name: client
  aliases:
    - Client
    - customer
    - org
  desc: Clients/customer/organisations we work with
  key:
    - name
  attributes:
    name:
      type: string
    envs:
      type: set
      subtype: env
    hosts:
      type: refalias
      refpath:
        - envs
        - hosts
env:
  name: env
  key:
    - client
    - name
  attributes:
    name:
      type: string
    client:
      type: ref
      subtype: client
      on-ref-delete: manual-delete
    hosts:
      type: set
      subtype:
        - dom0
        - domu
    example-foo:
      type: boolean
    example-bar:
      type: number
    example-baz:
      type: integer
dom0:
  name: dom0
  key:
    - name
  attributes:
    name:
      type: string
    env:
      type: ref
      subtype: env
      on-ref-delete: manual-delete
domu:
  name: domu
  key:
    - name
  attributes:
    name:
      type: string
    env:
      type: ref
      subtype: env
      on-ref-delete: manual-delete
    client:
      type: refalias
      refpath:
        - env
        - client
